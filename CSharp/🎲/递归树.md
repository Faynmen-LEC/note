
***
根据id建立父子关系
```c#
//存在性能问题
//private static List<Ferrari> GetNode(int parentId,List<Ferrari> list)
//{
//    List<Ferrari> mainNodes = list.Where(x => x.ParentId == parentId).ToList();
//    List<Ferrari> otherNodes = list.Where(x => x.ParentId != parentId).ToList();
//    foreach (var node in mainNodes)
//        node.Children = GetNode(node.Id, otherNodes);
//    return mainNodes;
//}

class Ferrari
{
    public int Id { get; set; }
    public int ParentId { get; set; }
    public List<Ferrari> Children { get; set; }=[];
}

//优化性能
public static List<Ferrari> GetNode(int parentId, List<Ferrari> list)
{
	var lookup = list.GroupBy(x => x.ParentId).ToDictionary(g => g.Key, g => g.ToList());
	
	List<Ferrari> BuildTree(int pid)
	{
		if (!lookup.TryGetValue(pid, out var nodes))
			return new List<Ferrari>();
			
		foreach (var node in nodes)
		{
			node.detail = BuildTree(node.AutoID);
		}
		return nodes;
	}
	
	return BuildTree(parentId);
}
```